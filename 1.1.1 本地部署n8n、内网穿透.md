
【参考】
docs.n8n.io/hosting/installation/docker/#prerequisites
https://www.youtube.com/watch?v=qJodo176ao4

# npm（试验）

**安装node.js**


# docker（正式生产！）

【参考】
https://www.youtube.com/watch?v=mzjhST0Od5Q

**安装终端工具Tabby，ssh访问docker** 


**挂载一个卷**：/home/node/.n8n（重启docker时数据不会丢失！）

创建挂载卷，保存工作流数据，避免重启docker后数据丢失！
`sudo docker volume create n8n_data`


```
sudo docker run -d --name n8n
-e N8N SECURE_COOKIE=false
-p
5678:5678 -v n8n_data:/home/node/.n8n docker.n8n.io/n8nio/n8n
```



**映射端口**：5678

**设置环境变量**：输入这个n8n安全访问cookie（非SSL也可以访问·）
![image.png](https://repo.in4tree.com/2026/01/31_1769858945906.png)


---

# 重新指定配置文件（默认为本地sqlite文件，可用MySQL、Postgresgl、nocodb等，以确保永久保存工作流！）

【参考】
https://www.youtube.com/watch?v=cVPD2AFlLIs


---

# 内网穿透（隧道）：项目同步、Google认证、Webhook回调URL

【参考】外网直连本地n8n工作流：零成本，3分钟搞定n8n内网穿透 | 新手必看！
https://www.youtube.com/watch?v=3LZRQbSygRw
  
【参考】省钱！免费替代云服务器！ n8n本地部署最佳实践｜内网穿透+数据持久化+界面汉化！
https://www.youtube.com/watch?v=D_Oj3cYzkLM

隧道服务：Cloudfare、花生壳、蒲公英（收费！）


## 内网穿透：Cloudfare域名的隧道功能（反向代理）

【参考】外网直连本地n8n工作流：零成本，3分钟搞定n8n内网穿透 | 新手必看！
https://www.youtube.com/watch?v=3LZRQbSygRw
  
【参考】最佳免费本地部署方案：n8n + cloudflare 保姆级教程！一次搞定！
https://www.youtube.com/watch?v=zWJ4nC6lR7M


## 内网穿透：ngrok的隧道功能（反向代理）二级域名！

【参考】
https://www.youtube.com/watch?v=EEXz30eUmqE

ngrok可以帮我们建立一个隧道
![image.png](https://repo.in4tree.com/2026/02/01_1769933055693.png)

比如在需要使用Webhook功能的时候

